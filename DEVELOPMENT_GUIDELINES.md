# simple-site-by-copilot GitHub Copilot 規範

## 開發規範

### 1. 程式碼品質
- 所有程式碼必須包含函式級註解（說明用途、參數、回傳值）
- 註解使用**繁體中文**撰寫

**範例：**
```javascript
/**
 * 驗證使用者登入資訊
 * @param {string} username - 使用者帳號
 * @param {string} password - 使用者密碼
 * @returns {Promise<Object>} 包含 token 和使用者資訊的物件
 */
async function validateLogin(username, password) {
  // 實作內容
}
```

### 2. Plan 模式要求
- 完成所有子任務後，將完成報告記錄至 `./report.md`
- 需包含：
  * 任務描述
  * 完成時間
  * 遇到的問題
  * 解決方案

**report.md 格式範例：**
```markdown
# 任務完成報告

## 任務描述
[描述本次任務的目標與範圍]

## 完成時間
- 開始時間：YYYY-MM-DD HH:mm
- 結束時間：YYYY-MM-DD HH:mm

## 遇到的問題
1. [問題描述]
2. [問題描述]

## 解決方案
1. [解決方案說明]
2. [解決方案說明]
```

### 3. 規格文件要求
Plan 模式結束時必須產生以下文件：

#### spec.md（技術規格文件）
必須包含：
- **系統流程圖 (Flow Chart)**
  * 使用 Mermaid 語法繪製
  * 展示主要業務流程
- **循序圖 (Sequence Diagram)**
  * 展示系統元件間的互動順序
  * 包含前端、後端、資料庫等元件
- **類別圖/物件關聯圖 (Class/ER Diagram)**
  * 展示資料結構與關聯性
  * 使用 Mermaid 或其他圖表工具
- **API 規格定義**
  * 端點 (Endpoint)
  * 請求方法 (Method)
  * 請求參數 (Parameters)
  * 回應格式 (Response)
  * 錯誤碼定義 (Error Codes)
- **資料結構設計**
  * 資料模型定義
  * 欄位說明與型態
  * 資料驗證規則
- **模組架構說明**
  * 模組分層說明
  * 模組職責定義
  * 模組間的依賴關係

#### todolist.md（任務清單）
必須包含：
- 所有待完成任務的清單
- 使用 Markdown checkbox 格式
- 依優先順序排列

**todolist.md 格式範例：**
```markdown
# 任務清單

## 進行中
- [ ] 實作使用者登入功能
- [ ] 建立 API 端點

## 已完成
- [x] 初始化專案
- [x] 設定開發環境

## 待辦事項
- [ ] 撰寫測試案例
- [ ] 部署至測試環境
```

### 4. Build 模式要求
- **嚴格遵循** spec.md 進行開發
- 每次修改程式前必須確認 spec.md 的相關規格
- 每完成一個任務後更新 todolist.md 的進度狀態
- 若發現規格需要調整，必須先更新 spec.md，再進行實作

**開發流程：**
1. 檢查 todolist.md，選擇下一個任務
2. 查閱 spec.md 相關規格
3. 實作功能
4. 測試功能
5. 更新 todolist.md 狀態
6. 提交程式碼

### 5. 專案完成文檔
撰寫完整的 README.md，必須包含：

#### 必要項目
1. **專案描述與目標**
   - 專案簡介
   - 核心功能
   - 解決的問題

2. **完整檔案結構樹狀圖**
   ```
   .
   ├── src/
   │   ├── components/
   │   ├── views/
   │   └── utils/
   ├── server/
   └── public/
   ```

3. **使用的技術棧清單**
   - 前端技術
   - 後端技術
   - 開發工具
   - 版本資訊

4. **所有檔案清單與簡短說明**
   - 列出主要檔案
   - 說明每個檔案的用途

5. **安裝步驟**
   ```bash
   # 詳細的安裝指令
   ```

6. **執行方式**
   - 開發環境啟動方式
   - 正式環境啟動方式
   - 常用指令說明

7. **環境需求**
   - Node.js 版本
   - 套件相依性
   - 系統需求

### 6. 版本控制
- 每個重要任務完成後建立 checkpoint（commit）
- checkpoint 訊息必須有意義且描述清楚
- 不使用籠統的訊息如「update」、「fix bug」

**良好的 commit 訊息範例：**
```
✅ 完成用戶登入功能與 JWT 驗證
🔧 修正路由配置的 CONTEXT_PATH 問題
📝 更新 API 文檔並新增錯誤碼說明
🎨 重構登入頁面樣式與 RWD 支援
```

**使用的 emoji 參考：**
- ✅ 完成功能
- 🔧 修正問題
- 📝 文檔更新
- 🎨 樣式/介面調整
- ♻️ 重構程式碼
- 🚀 效能優化
- 🧪 測試相關
- 🔒 安全性修正

### 7. 語言要求
- 所有對話、文檔、註解皆使用**繁體中文**
- 專有名詞可保留英文（例如：API、Token、Vue）
- 變數名稱與函式名稱使用英文，但必須加上繁體中文註解

**範例：**
```javascript
// 使用者資料物件
const userData = {
  // 使用者 ID
  userId: '',
  // 使用者名稱
  username: '',
  // 認證 Token
  authToken: ''
};
```

---

## 附註

### Plan 模式與 Build 模式的區別

**Plan 模式（規劃階段）：**
- 分析需求
- 設計架構
- 產生 spec.md 和 todolist.md
- 不撰寫實際程式碼

**Build 模式（開發階段）：**
- 根據 spec.md 實作功能
- 持續更新 todolist.md
- 撰寫程式碼與測試
- 完成後產生 report.md

### 文件優先順序
1. spec.md - 技術規格（Plan 模式產生）
2. todolist.md - 任務清單（Plan 模式產生，Build 模式更新）
3. README.md - 專案說明（專案完成時撰寫）
4. report.md - 完成報告（所有任務完成後產生）

### 建議的專案工作流程
1. 📋 **Plan 模式**：分析需求 → 產生 spec.md 和 todolist.md
2. 🔨 **Build 模式**：依照 spec.md 開發 → 更新 todolist.md
3. 📝 **完成階段**：撰寫 README.md → 產生 report.md
4. ✅ **檢查點**：每個重要功能完成後 commit

---

## 遵循本規範的好處

1. **可追溯性**：透過完整的文檔記錄，可以清楚了解專案演進過程
2. **可維護性**：繁體中文註解讓團隊成員更容易理解程式碼
3. **規範一致**：統一的開發流程讓協作更順暢
4. **品質保證**：強制文檔化確保設計經過深思熟慮

---

*最後更新日期：2025-11-17*
